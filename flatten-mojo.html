<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M2 from target/generated-site/xdoc/flatten-mojo.xml at 2022-05-19
 | Rendered using Apache Maven Fluido Skin 1.11.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M2" />
    <title>Maven Flatten Plugin &#x2013; flatten:flatten</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.11.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.11.0.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <a href="https://github.com/mojohaus/flatten-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>Maven Flatten Plugin</h1>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2022-05-19<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.2.7</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="plugin-info.html" title="Goals"><span class="none"></span>Goals</a></li>
    <li><a href="usage.html" title="Usage"><span class="none"></span>Usage</a></li>
    <li><a href="faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
   <li class="nav-header">Examples</li>
    <li><a href="examples/example-simple-project.html" title="Simple Project"><span class="none"></span>Simple Project</a></li>
    <li><a href="examples/example-central-version.html" title="Central Version"><span class="none"></span>Central Version</a></li>
    <li><a href="examples/example-multiple-versions.html" title="Multiple Versions"><span class="none"></span>Multiple Versions</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="www.mojohaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script>asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section>
<h2><a name="flatten:flatten"></a>flatten:flatten</h2>
      
<p><b>Full name</b>:</p>
      
<p>org.codehaus.mojo:flatten-maven-plugin:1.2.7:flatten</p>
      
<p><b>Description</b>:</p>
      
<div>This MOJO realizes the goal <code>flatten</code> that generates the
flattened POM and <code>potentially updates the POM file</code> so
that the current <code>MavenProject</code>'s <code>file</code>
points to the flattened POM instead of the original
<code>pom.xml</code> file. The flattened POM is a reduced version
of the original POM with the focus to contain only the important
information for consuming it. Therefore information that is only
required for maintenance by developers and to build the project
artifact(s) are stripped. Starting from here we specify how the
flattened POM is created from the original POM and its
project:<br />

<table class="table table-striped" border="1" summary="">

<tr class="a">

<th>Element</th>

<th>Transformation</th>

<th>Note</th>
</tr>

<tr class="b">

<td align="left"><code>modelVersion</code></td>

<td>Fixed to &quot;4.0.0&quot;</td>

<td>New maven versions will once be able to evolve the model
version without incompatibility to older versions if flattened POMs
get deployed.</td>
</tr>

<tr class="a">

<td align="left"><code>groupId</code><br />
<code>artifactId</code><br />
<code>version</code><br />
<code>packaging</code></td>

<td>resolved</td>

<td>copied to the flattened POM but with inheritance from
<code>parent</code> as well as with all variables and defaults
resolved. These elements are technically required for
consumption.</td>
</tr>

<tr class="b">

<td align="left"><code>licenses</code></td>

<td>resolved</td>

<td>copied to the flattened POM but with inheritance from
<code>parent</code> as well as with all variables and defaults
resolved. The licenses would not be required in flattened POM.
However, they make sense for publication and deployment and are
important for consumers of your artifact.</td>
</tr>

<tr class="a">

<td align="left"><code>dependencies</code></td>

<td>resolved specially</td>

<td>flattened POM contains the actual dependencies of the project.
Test dependencies are removed. Variables and
<code>dependencyManagement</code> is resolved to get fixed
dependency attributes (especially <code>version</code>). If
<code>embedBuildProfileDependencies</code> is set to
<code>true</code>, then also build-time driven
<code>Profile</code>s will be evaluated and may add
<code>Dependency dependencies</code>. For further details see
<code>Profile</code>s below.</td>
</tr>

<tr class="b">

<td align="left"><code>profiles</code></td>

<td>resolved specially</td>

<td>only the <code>Activation</code> and the <code>Dependency
dependencies</code> of a <code>Profile</code> are copied to the
flattened POM. If you set the parameter
<code>embedBuildProfileDependencies</code> to <code>true</code>
then only profiles <code>Activation activated</code> by
<code>JDK</code> or <code>OS</code> will be added to the flattened
POM while the other profiles are triggered by the current build
setup and if activated their impact on dependencies is embedded
into the resulting flattened POM.</td>
</tr>

<tr class="a">

<td align="left"><code>name</code><br />
<code>description</code><br />
<code>url</code><br />
<code>inceptionYear</code><br />
<code>organization</code><br />
<code>scm</code><br />
<code>developers</code><br />
<code>contributors</code><br />
<code>mailingLists</code><br />
<code>pluginRepositories</code><br />
<code>issueManagement</code><br />
<code>ciManagement</code><br />
<code>distributionManagement</code></td>

<td>configurable</td>

<td>Will be stripped from the flattened POM by default. You can
configure all of the listed elements inside
<code>pomElements</code> that should be kept in the flattened POM
(e.g.
&lt;pomElements&gt;&lt;name/&gt;&lt;description/&gt;&lt;developers/&gt;&lt;contributors/&gt;&lt;/pomElements&gt;).
For common use-cases there are predefined modes available via the
parameter <code>flattenMode</code> that should be used in
preference.</td>
</tr>

<tr class="b">

<td align="left"><code>prerequisites</code></td>

<td>configurable</td>

<td>Like above but by default NOT removed if packaging is
&quot;maven-plugin&quot;.</td>
</tr>

<tr class="a">

<td align="left"><code>repositories</code></td>

<td>configurable</td>

<td>Like two above but by default NOT removed. If you want have it
removed, you need to use the parameter <code>pomElements</code> and
configure the child element <code>repositories</code> with value
<code>flatten</code>.</td>
</tr>

<tr class="b">

<td align="left"><code>parent</code><br />
<code>build</code><br />
<code>dependencyManagement</code><br />
<code>properties</code><br />
<code>modules</code><br />
<code>reporting</code></td>

<td>configurable</td>

<td>These elements should typically be completely stripped from the
flattened POM. However for ultimate flexibility (e.g. if you only
want to resolve variables in a POM with packaging pom) you can also
configure to keep these elements. We strictly recommend to use this
feature with extreme care and only if packaging is pom (for &quot;Bill
of Materials&quot;). In the latter case you configure the parameter
<code>flattenMode</code> to the value <code>bom</code>.<br />
If the <code>build</code> element contains plugins in the
<code>build/plugins</code> section which are configured to load <a class="externalLink" href="http://maven.apache.org/pom.html#Extensions">extensions</a>,
a reduced <code>build</code> element containing these plugins will
be kept in the flattened pom.</td>
</tr>
</table></div>
      
<p><b>Attributes</b>:</p>
      
<ul>
        
<li>Requires a Maven project to be executed.</li>
      </ul>
      <section>
<h3><a name="Optional_Parameters"></a>Optional Parameters</h3>
        
<table class="table table-striped" border="0">
          
<tr class="a">
            
<th>Name</th>
            
<th>Type</th>
            
<th>Since</th>
            
<th>Description</th>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#embedBuildProfileDependencies">&lt;embedBuildProfileDependencies&gt;</a></code></td>
            
<td><code>Boolean</code></td>
            
<td><code>-</code></td>
            
<td>Profiles activated by OS or JDK are valid ways to have different
dependencies per environment. However, profiles activated by
property of file are less clear. When setting this parameter to
<code>true</code>, the latter dependencies will be written as
direct dependencies of the project. <b>This is not how Maven2
and Maven3 handles dependencies</b>. When keeping this
property <code>false</code>, all profiles will stay in the
flattened-pom.<br /><b>Default value is</b>: <code>false</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#flattenDependencyMode">&lt;flattenDependencyMode&gt;</a></code></td>
            
<td><code>FlattenDependencyMode</code></td>
            
<td><code>-</code></td>
            
<td>The different possible values for flattenDependencyMode: 

<table class="table table-striped" border="1" summary="">
<thead>

<tr class="b">

<td align="left">Mode</td>

<td>Description</td>
</tr>
</thead>
<tbody>

<tr class="a">

<td align="left">direct</td>

<td>Flatten only the direct dependency versions. This is the
default mode and compatible with Flatten Plugin prior to
1.2.0.</td>
</tr>

<tr class="b">

<td align="left">all</td>

<td>

<p>Flatten both direct and transitive dependencies. This will
examine the full dependency tree, and pull up all transitive
dependencies as a direct dependency, and setting their versions
appropriately.</p>

<p>This is recommended if you are releasing a library that uses
dependency management to manage dependency versions.</p>
</td>
</tr>
</tbody>
</table><br /><b>User property is</b>: <code>flatten.dependency.mode</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#flattenMode">&lt;flattenMode&gt;</a></code></td>
            
<td><code>FlattenMode</code></td>
            
<td><code>-</code></td>
            
<td>The different possible values for flattenMode: 

<table class="table table-striped" border="1" summary="">
<thead>

<tr class="b">

<td align="left">Mode</td>

<td>Description</td>
</tr>
</thead>
<tbody>

<tr class="a">

<td align="left">oss</td>

<td>For Open-Source-Software projects that want to keep all
<code>FlattenDescriptor optional POM elements</code> except for
<code>repositories</code> and <code>pluginRepositories</code>.</td>
</tr>

<tr class="b">

<td align="left">ossrh</td>

<td>Keeps all <code>FlattenDescriptor optional POM elements</code>
that are required for <a class="externalLink" href="https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide">OSS
Repository-Hosting</a>.</td>
</tr>

<tr class="a">

<td align="left">bom</td>

<td>Like <code>ossrh</code> but additionally keeps
<code>dependencyManagement</code> and <code>properties</code>.
Especially it will keep the <code>dependencyManagement</code>
<i>as-is</i> without resolving parent influences and
import-scoped dependencies. This is useful if your POM represents a
<a class="externalLink" href="http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies">BOM
(Bill Of Material)</a> and you do not want to deploy it as is (to
remove parent and resolve version variables, etc.).</td>
</tr>

<tr class="b">

<td align="left">defaults</td>

<td>The default mode that removes all <code>FlattenDescriptor
optional POM elements</code> except <code>repositories</code>.</td>
</tr>

<tr class="a">

<td align="left">clean</td>

<td>Removes all <code>FlattenDescriptor optional POM
elements</code>.</td>
</tr>

<tr class="b">

<td align="left">fatjar</td>

<td>Removes all <code>FlattenDescriptor optional POM
elements</code> and all <code>dependencies</code>.</td>
</tr>

<tr class="a">

<td align="left">resolveCiFriendliesOnly</td>

<td>Only resolves variables revision, sha1 and changelist. Keeps
everything else. See <a class="externalLink" href="https://maven.apache.org/maven-ci-friendly.html">Maven CI
Friendly</a> for further details.</td>
</tr>
</tbody>
</table><br /><b>User property is</b>: <code>flatten.mode</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#flattenedPomFilename">&lt;flattenedPomFilename&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The filename of the generated flattened POM file.<br /><b>Default value is</b>: <code>.flattened-pom.xml</code>.<br /><b>User property is</b>: <code>flattenedPomFilename</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#outputDirectory">&lt;outputDirectory&gt;</a></code></td>
            
<td><code>File</code></td>
            
<td><code>-</code></td>
            
<td>The directory where the generated flattened POM file will be
written to.<br /><b>Default value is</b>: <code>${project.basedir}</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#pomElements">&lt;pomElements&gt;</a></code></td>
            
<td><code>FlattenDescriptor</code></td>
            
<td><code>-</code></td>
            
<td>The <code>Model</code> that defines how to handle additional POM
elements. Please use <code>flattenMode</code> in preference if
possible. This parameter is only for ultimate flexibility.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#updatePomFile">&lt;updatePomFile&gt;</a></code></td>
            
<td><code>Boolean</code></td>
            
<td><code>-</code></td>
            
<td>The flag to indicate if the generated flattened POM shall be set as
POM file to the current project. By default this is only done for
projects with packaging other than <code>pom</code>. You may want
to also do this for <code>pom</code> packages projects by setting
this parameter to <code>true</code> or you can use
<code>false</code> in order to only generate the flattened POM but
never set it as POM file. If <code>flattenMode</code> is set to bom
the default value will be <code>true</code>.<br /><b>User property is</b>: <code>updatePomFile</code>.<br /></td>
          </tr>
        </table>
      </section>
      <section>
<h3><a name="Parameter_Details"></a>Parameter Details</h3>
        <section>
<h4><a name="a.3CembedBuildProfileDependencies.3E"></a><b><a name="embedBuildProfileDependencies">&lt;embedBuildProfileDependencies&gt;</a></b></h4>
        
<div>Profiles activated by OS or JDK are valid ways to have different
dependencies per environment. However, profiles activated by
property of file are less clear. When setting this parameter to
<code>true</code>, the latter dependencies will be written as
direct dependencies of the project. <b>This is not how Maven2
and Maven3 handles dependencies</b>. When keeping this
property <code>false</code>, all profiles will stay in the
flattened-pom.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.Boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>Default</b>: <code>false</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CflattenDependencyMode.3E"></a><b><a name="flattenDependencyMode">&lt;flattenDependencyMode&gt;</a></b></h4>
        
<div>The different possible values for flattenDependencyMode: 

<table class="table table-striped" border="1" summary="">
<thead>

<tr class="a">

<td align="left">Mode</td>

<td>Description</td>
</tr>
</thead>
<tbody>

<tr class="b">

<td align="left">direct</td>

<td>Flatten only the direct dependency versions. This is the
default mode and compatible with Flatten Plugin prior to
1.2.0.</td>
</tr>

<tr class="a">

<td align="left">all</td>

<td>

<p>Flatten both direct and transitive dependencies. This will
examine the full dependency tree, and pull up all transitive
dependencies as a direct dependency, and setting their versions
appropriately.</p>

<p>This is recommended if you are releasing a library that uses
dependency management to manage dependency versions.</p>
</td>
</tr>
</tbody>
</table></div>
        
<ul>
          
<li><b>Type</b>: <code>org.codehaus.mojo.flatten.FlattenDependencyMode</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>flatten.dependency.mode</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CflattenMode.3E"></a><b><a name="flattenMode">&lt;flattenMode&gt;</a></b></h4>
        
<div>The different possible values for flattenMode: 

<table class="table table-striped" border="1" summary="">
<thead>

<tr class="a">

<td align="left">Mode</td>

<td>Description</td>
</tr>
</thead>
<tbody>

<tr class="b">

<td align="left">oss</td>

<td>For Open-Source-Software projects that want to keep all
<code>FlattenDescriptor optional POM elements</code> except for
<code>repositories</code> and <code>pluginRepositories</code>.</td>
</tr>

<tr class="a">

<td align="left">ossrh</td>

<td>Keeps all <code>FlattenDescriptor optional POM elements</code>
that are required for <a class="externalLink" href="https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide">OSS
Repository-Hosting</a>.</td>
</tr>

<tr class="b">

<td align="left">bom</td>

<td>Like <code>ossrh</code> but additionally keeps
<code>dependencyManagement</code> and <code>properties</code>.
Especially it will keep the <code>dependencyManagement</code>
<i>as-is</i> without resolving parent influences and
import-scoped dependencies. This is useful if your POM represents a
<a class="externalLink" href="http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies">BOM
(Bill Of Material)</a> and you do not want to deploy it as is (to
remove parent and resolve version variables, etc.).</td>
</tr>

<tr class="a">

<td align="left">defaults</td>

<td>The default mode that removes all <code>FlattenDescriptor
optional POM elements</code> except <code>repositories</code>.</td>
</tr>

<tr class="b">

<td align="left">clean</td>

<td>Removes all <code>FlattenDescriptor optional POM
elements</code>.</td>
</tr>

<tr class="a">

<td align="left">fatjar</td>

<td>Removes all <code>FlattenDescriptor optional POM
elements</code> and all <code>dependencies</code>.</td>
</tr>

<tr class="b">

<td align="left">resolveCiFriendliesOnly</td>

<td>Only resolves variables revision, sha1 and changelist. Keeps
everything else. See <a class="externalLink" href="https://maven.apache.org/maven-ci-friendly.html">Maven CI
Friendly</a> for further details.</td>
</tr>
</tbody>
</table></div>
        
<ul>
          
<li><b>Type</b>: <code>org.codehaus.mojo.flatten.FlattenMode</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>flatten.mode</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CflattenedPomFilename.3E"></a><b><a name="flattenedPomFilename">&lt;flattenedPomFilename&gt;</a></b></h4>
        
<div>The filename of the generated flattened POM file.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>flattenedPomFilename</code></li>
          
<li><b>Default</b>: <code>.flattened-pom.xml</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CoutputDirectory.3E"></a><b><a name="outputDirectory">&lt;outputDirectory&gt;</a></b></h4>
        
<div>The directory where the generated flattened POM file will be
written to.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.io.File</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>Default</b>: <code>${project.basedir}</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CpomElements.3E"></a><b><a name="pomElements">&lt;pomElements&gt;</a></b></h4>
        
<div>The <code>Model</code> that defines how to handle additional POM
elements. Please use <code>flattenMode</code> in preference if
possible. This parameter is only for ultimate flexibility.</div>
        
<ul>
          
<li><b>Type</b>: <code>org.codehaus.mojo.flatten.FlattenDescriptor</code></li>
          
<li><b>Required</b>: <code>No</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CupdatePomFile.3E"></a><b><a name="updatePomFile">&lt;updatePomFile&gt;</a></b></h4>
        
<div>The flag to indicate if the generated flattened POM shall be set as
POM file to the current project. By default this is only done for
projects with packaging other than <code>pom</code>. You may want
to also do this for <code>pom</code> packages projects by setting
this parameter to <code>true</code> or you can use
<code>false</code> in order to only generate the flattened POM but
never set it as POM file. If <code>flattenMode</code> is set to bom
the default value will be <code>true</code>.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.Boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>updatePomFile</code></li>
        </ul>
      </section></section>
    </section>
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2014&#x2013;2022
<a href="https://www.mojohaus.org">MojoHaus</a>
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>